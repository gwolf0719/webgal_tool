# WebGAL Script Editor Extension - 開發進度

## 📊 專案狀態

**當前版本**：v0.2.1  
**開發狀態**：✅ 核心功能已完成  
**最後更新**：2025-10-15

## ✅ 已完成功能

### 🎨 語法高亮 (v0.1.0)
- [x] TextMate 語法定義
- [x] 自定義深色主題
- [x] 命令、對話、參數、註釋的顏色區分

### ✨ 智能補全 (v0.1.0)
- [x] 40+ 種 WebGAL 命令補全
- [x] 參數補全（-next, -when, -v 等）
- [x] 資源文件補全（背景、立繪、音樂、場景）
- [x] 角色名補全
- [x] 變數補全
- [x] 標籤補全

### 🔍 定義跳轉 (v0.1.0)
- [x] 標籤跳轉（jumpLabel → label）
- [x] 場景跳轉（changeScene/callScene → 場景文件）
- [x] 變數跳轉（變數使用 → setVar 定義）

### 📖 Hover 提示 (v0.1.0)
- [x] 命令文檔和使用範例
- [x] 資源文件預覽（圖片、音頻信息）
- [x] 變數定義位置和值提示

### 🗺️ 大綱視圖 (v0.1.0)
- [x] 顯示標籤 (label)
- [x] 顯示選擇分支 (choose)
- [x] 顯示場景調用 (changeScene, callScene)
- [x] 顯示變數定義 (setVar)

### 🔧 語法診斷 (v0.1.0)
- [x] 命令拼寫錯誤檢查
- [x] 必需參數缺失檢查
- [x] 資源文件存在性驗證
- [x] 標籤未定義檢查
- [x] 變數未定義檢查

### 🔄 重構工具 (v0.1.0)
- [x] 引用查找（標籤、變數）
- [x] 批量重命名（標籤、變數）

### 📝 代碼片段 (v0.1.0)
- [x] 對話模板
- [x] 選擇分支模板
- [x] 標籤定義模板
- [x] 跳轉標籤模板
- [x] 背景切換模板
- [x] 變數設置模板

### 🎯 場景管理 (v0.2.0)
- [x] 場景創建嚮導
- [x] 多層目錄支援（最多10層）
- [x] 跨目錄場景跳轉
- [x] 智能路徑解析
- [x] 場景文件補全（跨目錄）

### 🎯 條件表達式 (v0.2.1)
- [x] `-when` 參數智能補全
- [x] 條件表達式中的變數補全
- [x] 條件變數定義跳轉
- [x] 運算符提示（>, <, >=, <=, ==, !=）

### 📚 文檔完善 (v0.2.1)
- [x] 完整的 WebGAL 常用指令規則參考
- [x] 對話與旁白語法說明
- [x] 視覺效果命令文檔
- [x] 音頻與視頻命令文檔
- [x] 遊戲控制命令文檔
- [x] 變數與條件命令文檔
- [x] 成就與收集命令文檔
- [x] 特效與動畫命令文檔
- [x] 註釋規則說明
- [x] 常用參數說明
- [x] 條件表達式規則
- [x] 文件命名規則
- [x] 錯誤預防指南
- [x] 內建函式文檔（random, Math.random）

## 🔲 待完成功能

### 側邊欄視圖 (計劃 v0.3.0)
- [ ] 場景樹視圖：顯示所有場景文件和調用關係
- [ ] 資源管理器：按類型分類顯示資源
- [ ] 變數面板：列出所有變數及其定義和使用位置

### 進階功能 (計劃 v0.4.0)
- [ ] 批量重命名角色
- [ ] 提取對話為語音文件
- [ ] 更多代碼片段模板
- [ ] 國際化支持（英文界面）

## 📦 發布記錄

### v0.2.1 (2025-10-15)
**文檔完善版本**

**新增功能**：
- 完整的 WebGAL 常用指令規則參考文檔
- 條件表達式 (`-when`) 完整使用指南
- 內建函式文檔修正（確保準確性）
- 錯誤預防指南和常見問題解答
- 文件命名規則和組織規範

**文件大小**：66.21 KB  
**包含文件**：34 個文件

### v0.2.0 (2025-10-15)
**場景管理增強版本**

**新增功能**：
- 跨目錄場景跳轉
- 場景創建嚮導
- 多層目錄支援（最多10層）
- 智能場景管理
- 場景路徑解析器
- 條件表達式智能提示

**技術改進**：
- 新增 `ScenePathResolver` 類
- 新增 `SceneCreationWizard` 類
- 增強 `DefinitionProvider`
- 增強 `CompletionProvider`

**文件大小**：59.59 KB  
**包含文件**：32 個文件

### v0.1.0 (2025-10-14)
**初始版本發布**

**核心功能**：
- 語法高亮支持
- 智能補全功能
- 定義跳轉
- Hover 提示
- 大綱視圖
- 語法診斷
- 重構工具

**文件大小**：52.34 KB  
**包含文件**：28 個文件

## 🎯 專案統計

### 代碼統計
- **TypeScript 文件**：15 個
- **代碼行數**：約 3,000 行
- **文檔行數**：約 600 行

### 功能統計
- **支援的 WebGAL 命令**：40+
- **代碼片段模板**：6 個
- **語法診斷規則**：5 類
- **智能補全類型**：7 種

### 測試覆蓋
- **手動測試**：✅ 通過
- **實際專案測試**：✅ 通過（使用 ../WebGAL 專案）
- **多層目錄測試**：✅ 通過（最多10層）

## 📋 待辦事項優先級

### 高優先級
- [ ] 創建場景樹視圖（最常用功能）
- [ ] 創建資源管理器（提升資源管理效率）

### 中優先級
- [ ] 創建變數面板（輔助調試）
- [ ] 批量重命名角色（重構工具）

### 低優先級
- [ ] 國際化支持（擴大用戶群）
- [ ] 更多代碼片段（提升效率）

## 🚀 安裝與使用

### 安裝方式
1. 下載最新的 `.vsix` 文件
2. 在 VS Code/Cursor 中：擴展面板 → `...` → 從 VSIX 安裝
3. 選擇下載的文件

### 配置
在設置中配置 WebGAL 遊戲目錄：
```json
{
  "webgal.gameBasePath": "/path/to/WebGAL/packages/webgal/public/game"
}
```

## 📝 貢獻指南

歡迎提交 Issue 和 Pull Request！

### 開發環境設置
```bash
# 安裝依賴
npm install

# 編譯
npm run compile

# 監視模式
npm run watch

# 打包
vsce package
```

## 📄 授權

MIT License

---

**專案倉庫**：https://github.com/gwolf0719/webgal_tool  
**開發者**：WebGAL Community  
**最後更新**：2025-10-15

